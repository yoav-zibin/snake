{"version":3,"file":"index.min.js","sources":["../index.js"],"names":["angular","module","run","$translate","$log","realTimeService","randomService","$rootScope","createCanvasController","canvas","gotStartMatch","params","yourPlayerIndex","playersInfo","matchController","isGameOngoing","isSinglePlayer","length","foodCreatedNum","allSnakes","allScores","index","create_snake","snake_array","create_food","d","startMatchTime","Date","getTime","setDrawInterval","gotMessage","fromPlayerIndex","messageString","message","messageObject","fromJson","a","s","f","gotEndMatch","endMatchScores","stopDrawInterval","sendMessage","isReliable","toJson","sendReliableMessage","sendUnreliableMessage","lostMatch","endMatch","intervalMillis","Math","max","drawEveryMilliseconds","floor","drawInterval","setInterval","updateAndDraw","clearInterval","playerIndex","arr","i","push","x","y","canvasWidth","cellWidth","food","randomFromTo","colsNum","rowsNum","secondsFromStart","changeDirQueue","draw","secondsToReallyStart","yourColor","playerSnakeColor","ctx","fillStyle","font","fillText","canvasHeight","msg","color","toUpperCase","changeDirection","nx","ny","check_collision","tail","pop","unshift","fillRect","strokeStyle","strokeRect","drawSnake","paint_cell","score","snake","c","cellHeight","array","key","shift","addChangeDir","dir","processTouch","e","preventDefault","touchobj","targetTouches","lastX","pageX","lastY","pageY","distX","distY","swipedir","absDistX","abs","absDistY","info","id","getContext","document","addEventListener","which","pause","unPause","init"],"mappings":"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"}